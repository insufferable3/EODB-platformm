{% extends "base.html" %}
{% block content %}

<style>
    .form-container {
        width: 420px;
        margin: 60px auto;
        font-family: Arial, sans-serif;
        border: 1px solid #ccc;
        padding: 30px;
        background-color: #f4fff4;
        border-radius: 8px;
        box-shadow: 0 0 10px #b9ffb9;
    }

    .form-container h2 {
        text-align: center;
        color: #2e7d32;
        margin-bottom: 20px;
    }

    label {
        display: block;
        margin-top: 12px;
        font-weight: bold;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"] {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border: 1px solid #aaa;
        border-radius: 4px;
    }

    button {
        width: 100%;
        padding: 10px;
        margin-top: 20px;
        border: none;
        background-color: #2e7d32;
        color: white;
        font-weight: bold;
        cursor: pointer;
        border-radius: 4px;
    }

    button:hover {
        background-color: #1b5e20;
    }

    .toggle-buttons {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    .toggle-buttons button {
        width: 50%;
        border-radius: 0;
        background-color: #e0e0e0;
        color: black;
        border: 1px solid #ccc;
    }

    .toggle-buttons button.active {
        background-color: #2e7d32;
        color: white;
        font-weight: bold;
    }

    .messages {
        color: red;
        margin-top: 15px;
    }

    ul {
        padding-left: 20px;
    }

    .form-section {
        display: none;
    }

    .form-section.active {
        display: block;
    }
</style>

<div class="form-container">
    <div class="toggle-buttons">
        <button id="loginToggle" class="active" onclick="showForm('login')">Login</button>
        <button id="signupToggle" onclick="showForm('signup')">Sign Up</button>
    </div>

    <!-- Login Form -->
    <div id="loginForm" class="form-section active">
        <h2>Login</h2>
        <form method="POST" action="/login">
            <label for="loginEmail">Email</label>
            <input name="email" id="loginEmail" type="email" required>

            <label for="loginPassword">Password</label>
            <input name="password" id="loginPassword" type="password" required>

            <button type="submit">Login</button>
        </form>
    </div>

    <!-- Sign Up Form -->
    <div id="signupForm" class="form-section">
        <h2>Sign Up</h2>
        <form method="POST" action="/signup">
            <label for="fname">First Name</label>
            <input name="fname" id="fname" type="text" required>

            <label for="lname">Last Name</label>
            <input name="lname" id="lname" type="text" required>

            <label for="mname">Middle Name (Optional)</label>
            <input name="mname" id="mname" type="text">

            <label for="age">Age</label>
            <input name="age" id="age" type="number" required>

            <label for="signupEmail">Email</label>
            <input name="email" id="signupEmail" type="email" required>

            <label for="signupPassword">Password</label>
            <input name="password" id="signupPassword" type="password" required>

            <label for="confirm">Confirm Password</label>
            <input name="confirm" id="confirm" type="password" required>

            <button type="submit">Sign Up</button>
        </form>
    </div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="messages">
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        </div>
      {% endif %}
    {% endwith %}
</div>

<script>
    function showForm(form) {
        const loginBtn = document.getElementById('loginToggle');
        const signupBtn = document.getElementById('signupToggle');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');

        if (form === 'login') {
            loginBtn.classList.add('active');
            signupBtn.classList.remove('active');
            loginForm.classList.add('active');
            signupForm.classList.remove('active');
        } else {
            signupBtn.classList.add('active');
            loginBtn.classList.remove('active');
            signupForm.classList.add('active');
            loginForm.classList.remove('active');
        }
    }
</script>

{% endblock %}
